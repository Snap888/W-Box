#!/bin/bash
DESK=OFF
BOX_VERS=""
GAME=""
ADRES_C=" "
dy_conf="$PREFIX/mobox/dynarec.conf"
if ps aux | grep -v grep | grep -q "wine"
then
am start --user 0 -n com.termux.x11/.MainActivity &>/dev/null 
sleep 0.1
am start --user 0 -n com.termux.x11/.MainActivity &>/dev/null &
else
if [ "$BOX_VERS" = "WOW64" ]; then
HD_WOW=6
sd_WOW=1
X_WOW=29
vers_WOW="version"; api_WOW="api"; fps_WOW="fps"; info="devinfo"; gpu_WOW="gpuload"; fram_WOW="frametimes"; SCALE_WOW="0.7"
SC_WOW=70
MOBOX_WOW="WoW64"
BOX_LNG="WoW64"

DRI3_WOW="Ğ’ĞºĞ»ÑÑ‡ĞµĞ½"
STARTUP_WOW="Ğ’Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½"
SERVICES_WOW="Ğ’ĞºĞ»ÑÑ‡ĞµĞ½"
DRI_WOW="unset MESA_VK_WSI_DEBUG"
START_WOW="export STARTUP_COMPATIBILITY_MODE=0"
SERV_WOW="export STARTUP_WINEDEVICE_MODE=0"
TURNIP_WOW="turnip-v6.5.WEG"
DXVK_WOW="dxvk-async-1.10.3.WEG"
DX_VER_WOW=11_0
RESOLUTION_WOW=960x540
PRIM_COR_WOW="2,3,4,5,6,7"
SEC_COR_WOW="0,1"
cor_0="ğŸ”²"; cor_1="ğŸ”²"; cor_2="âœ…"; cor_3="âœ…"; cor_4="âœ…"; cor_5="âœ…"; cor_6="âœ…"; cor_7="âœ…";
FPS_LIM_WOW=0
displayStretch=false
STRETCH_WOW="ĞĞµ Ñ€Ğ°ÑÑ‚ÑĞ½ÑƒÑ‚Ğ¾"
BOX_WOW="box64mar3.WEG"
LANG_BOX=ru_RU.utf8


HUD_CLASS="version,fps,api,gpuload,devinfo,frametimes"
scale=0.7
TERM_LNG_WOW="ru_RU"


DYNAREC_64=424
d=424
ATOMICS_WOW=-
BIGBLOCK_WOW=2
FASTNAN_WOW=-
SAFEFLAGS_WOW=2
STRONGMEM_WOW=-
WAIT_WOW=-
X87DOUBLE_WOW=1
CALLRET_WOW=0
FASTROUND_WOW=-
IGNOREINT3_WOW=-
WINE_64="OFF"
OpenGL_WOW_eng="Enable"
OpenGL_WOW="Ğ’ĞºĞ»ÑÑ‡ĞµĞ½"
dy_conf_wow64() {
{
echo 'unset BOX64_DYNAREC_ALIGNED_ATOMICS'
echo 'export BOX64_DYNAREC_BIGBLOCK=2'
echo 'unset BOX64_DYNAREC_FASTNAN'
echo 'export BOX64_DYNAREC_SAFEFLAGS=2'
echo 'unset BOX64_DYNAREC_STRONGMEM'
echo 'unset BOX64_DYNAREC_WAIT'
echo 'export BOX64_DYNAREC_X87DOUBLE=1'
echo 'export BOX64_DYNAREC_CALLRET=0'
echo 'unset BOX64_DYNAREC_FASTROUND'
echo 'unset BOX64_IGNOREINT3'
} > "$dy_conf"
}
chek_ver_WOW="âœ…"
chek_fps_WOW="âœ…"
chek_api_WOW="âœ…"
chek_info_WOW="âœ…"
chek_fram_WOW="âœ…"
chek_gpu_WOW="âœ…"
HUD_WOW=""
d_WOW="âœ…"; a_WOW="ğŸ”²"; f_WOW="ğŸ”²"; b_WOW="ğŸ”²"; c_WOW="ğŸ”²"; g_WOW="ğŸ”²"; h_WOW="ğŸ”²"; i_WOW="ğŸ”²"; k_WOW="ğŸ”²"; l_WOW="ğŸ”²"; m_WOW="ğŸ”²"
DRI3_WOW_eng="Enable"
STARTUP_WOW_eng="Disable"
SERVICES_WOW_eng="Enable"
STRETCH_WOW_eng="Not stretched"
HUD_CHEK_7_WOW="âœ…"; HUD_CHEK_1_WOW="ğŸ”²"; HUD_CHEK_3_WOW="ğŸ”²"; HUD_CHEK_5_WOW="ğŸ”²"; HUD_CHEK_2_WOW="ğŸ”²"; HUD_CHEK_6_WOW="ğŸ”²"; HUD_CHEK_4_WOW="ğŸ”²"; HUD_CHEK_8_WOW="ğŸ”²"; HUD_CHEK_9_WOW="ğŸ”²"
Res_12_WOW="âœ…"; Res_1_WOW="ğŸ”²"; Res_3_WOW="ğŸ”²"; Res_2_WOW="ğŸ”²"; Res_5_WOW="ğŸ”²"; Res_6_WOW="ğŸ”²"; Res_7_WOW="ğŸ”²"; Res_8_WOW="ğŸ”²"; Res_9_WOW="ğŸ”²"; Res_10_WOW="ğŸ”²"; Res_11_WOW="ğŸ”²"; Res_13_WOW="ğŸ”²"; Res_2_WOW="ğŸ”²"; Res_14_WOW="ğŸ”²"; Res_15_WOW="ğŸ”²"; Res_16_WOW="ğŸ”²"; Res_17_WOW="ğŸ”²"; Res_18_WOW="ğŸ”²"; Res_19_WOW="ğŸ”²"; Res_20_WOW="ğŸ”²"; Res_21_WOW="ğŸ”²"; Res_22_WOW="ğŸ”²"; Res_23_WOW="ğŸ”²"; Res_24_WOW="ğŸ”²"; Res_25_WOW="ğŸ”²"; Res_26_WOW="ğŸ”²"; Res_27_WOW="ğŸ”²"; Res_4_WOW="ğŸ”²";
GALLIUM_HUD_WOW="export GALLIUM_HUD=simple,fps"
GALLIUM_HUD_PERIOD_WOW="export GALLIUM_HUD_PERIOD=1"
DXVK_HUD_WOW="export DXVK_HUD=version,fps,api,gpuload,devinfo,frametimes,scale=0.7"
elif [ "$BOX_VERS" = "X86" ]; then
HD_86=4
sd_86=1
X_86=26
vers_86="version"; api_86="api"; fps_86="fps"; info=""; gpu_86="gpuload"; fram_86=""; SCALE_86="0.7"
SC_86=70
MOBOX_86="box86"
BOX_LNG="box86"

DRI3_86="Ğ’ĞºĞ»ÑÑ‡ĞµĞ½"
STARTUP_86="Ğ’Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½"
SERVICES_86="Ğ’Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½"
DRI_86="unset MESA_VK_WSI_DEBUG"
START_86="export STARTUP_COMPATIBILITY_MODE=0"
SERV_86="export STARTUP_WINEDEVICE_MODE=0"
TURNIP_86="turnip-v4.WEG"
DXVK_86="dxvk-async-1.10.3.WEG"
DX_VER_86=11_0
RESOLUTION_86=960x540
PRIM_COR_86="2,3,4,5,6,7"
SEC_COR_86="0,1"
cor_0="ğŸ”²"; cor_1="ğŸ”²"; cor_2="âœ…"; cor_3="âœ…"; cor_4="âœ…"; cor_5="âœ…"; cor_6="âœ…"; cor_7="âœ…";
FPS_LIM_86=0
displayStretch=false
STRETCH_86="ĞĞµ Ñ€Ğ°ÑÑ‚ÑĞ½ÑƒÑ‚Ğ¾"
BOX_86="box86.nov10.WEG"
LANG_BOX=ru_RU.utf8


HUD_CLASS="version,fps,api,gpuload"
scale=0.7
TERM_LNG_86="ru_RU"
DXVK_x86="dxvk-async-1.10.3.WEG"
TURNIP_x86="turnip-v4.WEG"
DYNAREC_86=424
d=424

ALIGNED_ATOMICS=-
BIGBLOCK_64=2
BIGBLOCK_86=0
FASTNAN=-
SAFEFLAGS=2
STRONGMEM=-
WAIT=-
X87DOUBLE=1
CALLRET=0
WINE_86="OFF"
OpenGL_86="Ğ’ĞºĞ»ÑÑ‡ĞµĞ½"
OpenGL_86_eng="Enable"
dy_conf_x86() {
{
echo 'unset BOX64_DYNAREC_ALIGNED_ATOMICS'
echo 'unset BOX86_DYNAREC_ALIGNED_ATOMICS'
echo 'export BOX64_DYNAREC_BIGBLOCK=2'
echo 'export BOX86_DYNAREC_BIGBLOCK=0'
echo 'unset BOX64_DYNAREC_FASTNAN'
echo 'unset BOX86_DYNAREC_FASTNAN'
echo 'export BOX64_DYNAREC_SAFEFLAGS=2'
echo 'export BOX86_DYNAREC_SAFEFLAGS=2'
echo 'unset BOX64_DYNAREC_STRONGMEM'
echo 'unset BOX86_DYNAREC_STRONGMEM'
echo 'unset BOX64_DYNAREC_WAIT'
echo 'unset BOX86_DYNAREC_WAIT'
echo 'export BOX64_DYNAREC_X87DOUBLE=1'
echo 'export BOX86_DYNAREC_X87DOUBLE=1'
echo 'export BOX64_DYNAREC_CALLRET=0'
echo 'export BOX86_DYNAREC_CALLRET=0'
} > "$dy_conf"
}
chek_ver_86="âœ…"
chek_fps_86="âœ…"
chek_api_86="âœ…"
chek_info_86="ğŸ”²"
chek_fram_86="ğŸ”²"
chek_gpu_86="âœ…"
HUD_86=""
d_86="âœ…"; a_86="ğŸ”²"; f_86="ğŸ”²"; b_86="ğŸ”²"; c_86="ğŸ”²"; g_86="ğŸ”²"; h_86="ğŸ”²"; i_86="ğŸ”²"; k_86="ğŸ”²"; l_86="ğŸ”²"; m_86="ğŸ”²"
DRI3_86_eng="Enable"
STARTUP_86_eng="Disable"
SERVICES_86_eng="Disable"
STRETCH_86_eng="Not stretched"
HUD_CHEK_4_86="âœ…"; HUD_CHEK_1_86="ğŸ”²"; HUD_CHEK_3_86="ğŸ”²"; HUD_CHEK_5_86="ğŸ”²"; HUD_CHEK_2_86="ğŸ”²"; HUD_CHEK_6_86="ğŸ”²"; HUD_CHEK_7_86="ğŸ”²"; HUD_CHEK_8_86="ğŸ”²"; HUD_CHEK_9_86="ğŸ”²"
Res_12_86="âœ…"; Res_1_86="ğŸ”²"; Res_3_86="ğŸ”²"; Res_2_86="ğŸ”²"; Res_5_86="ğŸ”²"; Res_6_86="ğŸ”²"; Res_7_86="ğŸ”²"; Res_8_86="ğŸ”²"; Res_9_86="ğŸ”²"; Res_10_86="ğŸ”²"; Res_11_86="ğŸ”²"; Res_13_86="ğŸ”²"; Res_2_86="ğŸ”²"; Res_14_86="ğŸ”²"; Res_15_86="ğŸ”²"; Res_16_86="ğŸ”²"; Res_17_86="ğŸ”²"; Res_18_86="ğŸ”²"; Res_19_86="ğŸ”²"; Res_20_86="ğŸ”²"; Res_21_86="ğŸ”²"; Res_22_86="ğŸ”²"; Res_23_86="ğŸ”²"; Res_24_86="ğŸ”²"; Res_25_86="ğŸ”²"; Res_26_86="ğŸ”²"; Res_27_86="ğŸ”²"; Res_4_86="ğŸ”²";
GALLIUM_HUD_86="export GALLIUM_HUD=simple,fps"
GALLIUM_HUD_PERIOD_86="export GALLIUM_HUD_PERIOD=1"
DXVK_HUD_86="export DXVK_HUD=version,fps,api,gpuload,scale=0.7"


fi
InBr="Ğ²ĞºĞ»ÑÑ‡ĞµĞ½"

InBr_eng="Enable"

if [ "$BOX_VERS" = "WOW64" ]; then
SCREEN_DESC_WOW="ĞĞµ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ¾"


cor_pr_0="," ; cor_pr_1="," ; cor_pr_2="2," ; cor_pr_3="3," ; cor_pr_4="4," ; cor_pr_5="5," ; cor_pr_6="6," ; cor_pr_7="7"
cor_sec_0="0," ; cor_sec_1="1," ; cor_sec_2="," ; cor_sec_3="," ; cor_sec_4="" ; cor_sec_5="," ; cor_sec_6="," ; cor_sec_7=""










elif [ "$BOX_VERS" = "X86" ]; then
SCREEN_DESC_86="ĞĞµ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ¾"


cor_pr_0="," ; cor_pr_1="," ; cor_pr_2="2," ; cor_pr_3="3," ; cor_pr_4="4," ; cor_pr_5="5," ; cor_pr_6="6," ; cor_pr_7="7"
cor_sec_0="0," ; cor_sec_1="1," ; cor_sec_2="," ; cor_sec_3="," ; cor_sec_4="" ; cor_sec_5="," ; cor_sec_6="," ; cor_sec_7=""








fi
B_VERS=""
fi
	if [ "$settings" != "install" ]; then
		if [ "$BOX_VERS" = "WOW64" ]; then
			EXTRA_CORE="$SEC_COR_WOW"
			dy_conf_wow64
		elif [ "$BOX_VERS" = "X86" ]; then
			EXTRA_CORE="$SEC_COR_86"
			dy_conf_x86
		fi
		rm -rf $PREFIX/glibc/opt/shutdown
		source $PREFIX/mobox/load_game
		load_game
	fi
