#!/bin/bash

CONFIG_DIR="/$HOME/.shortcuts/,/Mobox box86"
BASE_DIR=$(<"$PREFIX/bin/widget/directory")
DIRSAVE="/$PREFIX/bin/widget/dir_save"
    if [ ! -f "$DIRSAVE" ]; then
        DIRESTORI_SAVE="$BASE_DIR/WEG Game settings/"
    else
        DIRESTORI_SAVE=$(<"$DIRSAVE")
    fi
settings_game() {
    local CONFIG_GAME="$1"
    export settings=install
    return_menu="$2"
clear
    file_path="$PREFIX/glibc/opt/scripts/mobox_menu"
    value=$(grep 'Mobox' "$file_path" | sed -E 's/.*Mobox([^"]*).*/\1/')
    path="$PREFIX/glibc/opt/conf/wine_path.conf"
    driver_86="$BASE_DIR/drivers/driver_x86"
    driver_wow="$BASE_DIR/drivers/driver_x64"
    render="$BASE_DIR/drivers/render"
    box="$BASE_DIR/box"
    
    function load_conf {
       CONFIG="$CONFIG_GAME"
        source "$CONFIG"
       def_set="$PREFIX/mobox/source-code"
       def_box="$PREFIX/mobox/source-box"
    }
    load_conf
        result="${GAME%.lnk}"
    function show_dialog {
        local title="$1"
        local text="$2"
        shift 2
if [ "$DESK" == "OFF" ]; then
        dialog --title "$title" --menu "$text" 24 44 "$@" 2>&1 >/dev/tty
else
        dialog --title "$title" --menu "$text" 23 44 "$@" 2>&1 >/dev/tty
fi
    }
show_progress() {
     title="$1"
     message="$2"
     duration="$3"
    ( 
        for ((i=0; i<=100; i+=7)); do
            sleep $((duration / 200)) 
            echo $i 
        done
    ) | dialog --title "$title" --gauge "$message" 6 40 0
}
select_box_86_file() {
    local count=1
    menu_items=()

    for file in "$box"/box*.WEG; do
    	if [ -f "$file" ]; then
        	file_name=$(echo "$(basename "$file")" | sed 's/\.WEG$//')
        if [ $file_name == "${BOX_86%.WEG}" ]; then
                menu_items+=("$count" "‚úÖ $file_name")
        else
                menu_items+=("$count" "üî≤ $file_name") 
        fi
        ((count++))
    	fi
	done
menu_height_box=$((count + 6))
[ $menu_height_box -lt 4 ] && menu_height_box=10
    if [ ${#menu_items[@]} -eq 0 ]; then
        dialog --title "–û—à–∏–±–∫–∞" --msgbox "–§–∞–π–ª—ã 'box' –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –ø–∞–ø–∫–µ box." 6 30
        return
    fi
    file_number=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ box" --menu "–í—ã–±–µ—Ä–∏—Ç–µ —Å–±–æ—Ä–∫—É:" $menu_height_box 32 10 "${menu_items[@]}" 3>&1 1>&2 2>&3)
    case $? in
        1) return ;;
        255) return ;;
    esac
    selected_file=$(ls "$box"/box* | sed -n "${file_number}p")
    sed -i "118s/.*/BOX_86=\"$(basename "$selected_file")\"/" "$CONFIG"
   BOX_86=$(basename "$selected_file")
}
select_box_wow_file() {
    local count=1
    menu_items=()
    for file in "$box"/box*.WEG; do
    	if [ -f "$file" ]; then
        	file_name=$(echo "$(basename "$file")" | sed 's/\.WEG$//')
        	if [ $file_name == "${BOX_WOW%.WEG}" ]; then
                menu_items+=("$count" "‚úÖ $file_name")
            else
                menu_items+=("$count" "üî≤ $file_name") 
            fi
        	((count++))
    	fi
	done
menu_height_boxW=$((count + 6))
[ $menu_height_boxW -lt 4 ] && menu_height_boxW=10
    if [ ${#menu_items[@]} -eq 0 ]; then
        dialog --title "–û—à–∏–±–∫–∞" --msgbox "–§–∞–π–ª—ã 'box' –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –ø–∞–ø–∫–µ box." 6 30
        return
    fi
    file_number=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ box" --menu "–í—ã–±–µ—Ä–∏—Ç–µ —Å–±–æ—Ä–∫—É:" $menu_height_boxW 32 10 "${menu_items[@]}" 3>&1 1>&2 2>&3)
    case $? in
        1) return ;; 
        255) return ;;
    esac
    selected_file=$(ls "$box"/box* | sed -n "${file_number}p")
    sed -i "38s/.*/BOX_WOW=\"$(basename "$selected_file")\"/" "$CONFIG"
   BOX_WOW=$(basename "$selected_file")
}
select_dxvk_wow_file() {
    local count=1
    menu_items=()
    for file in "$render"/*; do
    if [ -f "$file" ] && ([[ "$(basename "$file")" == *dxvk* ]] || [[ "$(basename "$file")" == *wined* ]]); then
        file_name=$(basename "$file" .WEG)
        if [ $file_name == "${DXVK_WOW%.WEG}" ]; then
            menu_items+=("$count" "‚úÖ $file_name")
        else
            menu_items+=("$count" "üî≤ $file_name") 
        fi
        ((count++))
    fi
	done
menu_height_dxvkW=$((count + 6))
[ $menu_height_dxvkW -lt 4 ] && menu_height_dxvkW=10
    if [ ${#menu_items[@]} -eq 0 ]; then
        dialog --title "–û—à–∏–±–∫–∞" --msgbox "–§–∞–π–ª—ã dxvk –∏–ª–∏ wined3d –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –ø–∞–ø–∫–µ render." 6 30
        return
    fi
    file_number=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª" --menu "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª:" $menu_height_dxvkW 35 10 "${menu_items[@]}" 3>&1 1>&2 2>&3)
    case $? in
        1) return ;;
        255) return ;;
    esac
    selected_file=$(ls "$render"/{dxvk*,wined*} 2>/dev/null | sed -n "${file_number}p")
    sed -i "29s/.*/DXVK_WOW=\"$(basename "$selected_file")\"/" "$CONFIG"
    sed -i "45s/.*/DXVK_x64=$DXVK_WOW/" "$CONFIG"
   DXVK_WOW=$(basename "$selected_file")
}
select_turnip_wow_file() {
    local count=1
    menu_items=() 
	for file in "$driver_wow"/*; do
    if [ -f "$file" ] && ([[ "$(basename "$file")" == *turnip* ]] || [[ "$(basename "$file")" == *virgl* ]]); then
        file_name=$(basename "$file" .WEG) 
        if [ $file_name == "${TURNIP_WOW%.WEG}" ]; then
            menu_items+=("$count" "‚úÖ $file_name")
        else
            menu_items+=("$count" "üî≤ $file_name") 
        fi
        ((count++))
    fi
	done
menu_height_turnW=$((count + 6))
[ $menu_height_turnW -lt 4 ] && menu_height_turnW=10
    if [ ${#menu_items[@]} -eq 0 ]; then
        dialog --title "–û—à–∏–±–∫–∞" --msgbox "–§–∞–π–ª—ã turnip –∏–ª–∏ virgl –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –ø–∞–ø–∫–µ driver_x64." 7 30
        return
    fi
    file_number=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª" --menu "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª:" $menu_height_turnW 30 10 "${menu_items[@]}" 3>&1 1>&2 2>&3)
    case $? in
        1) return ;;
        255) return ;;
    esac
    selected_file=$(ls "$driver_wow"/{turnip*,virgl*} 2>/dev/null | sed -n "${file_number}p")
    sed -i "28s/.*/TURNIP_WOW=\"$(basename "$selected_file")\"/" "$CONFIG"
    sed -i "46s/.*/TURNIP_x64=$TURNIP_WOW/" "$CONFIG"
   TURNIP_WOW=$(basename "$selected_file")
}
select_turnip86_file() {
    local count=1
    menu_items=() 
	for file in "$driver_86"/*; do
    if [ -f "$file" ] && ([[ "$(basename "$file")" == *turnip* ]] || [[ "$(basename "$file")" == *virgl* ]]); then
        file_name=$(basename "$file" .WEG)
        if [ $file_name == "${TURNIP_86%.WEG}" ]; then
            menu_items+=("$count" "‚úÖ $file_name")
        else
            menu_items+=("$count" "üî≤ $file_name") 
        fi
        ((count++))
    fi
	done
menu_height_turn=$((count + 6))
[ $menu_height_turn -lt 4 ] && menu_height_turn=10
    if [ ${#menu_items[@]} -eq 0 ]; then
        dialog --title "–û—à–∏–±–∫–∞" --msgbox "–§–∞–π–ª—ã turnip –∏–ª–∏ virgl –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –ø–∞–ø–∫–µ driver_86." 6 30
        return
    fi
    file_number=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª" --menu "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª:" $menu_height_turn 30 10 "${menu_items[@]}" 3>&1 1>&2 2>&3)
    case $? in
        1) return ;;
        255) return ;;
    esac
    selected_file=$(ls "$driver_86"/{turnip*,virgl*} 2>/dev/null | sed -n "${file_number}p")
    
    sed -i "108s/.*/TURNIP_86=\"$(basename "$selected_file")\"/" "$CONFIG"
    sed -i "126s/.*/TURNIP_x86=$TURNIP_86/" "$CONFIG"
   TURNIP_86=$(basename "$selected_file")
}
select_dxvk86_file() {
    local count=1
    menu_items=()
    for file in "$render"/*; do
    if [ -f "$file" ] && ([[ "$(basename "$file")" == *dxvk* ]] || [[ "$(basename "$file")" == *wined* ]]); then
        file_name=$(basename "$file" .WEG)
        if [ $file_name == "${DXVK_86%.WEG}" ]; then
            menu_items+=("$count" "‚úÖ $file_name")
        else
            menu_items+=("$count" "üî≤ $file_name") 
        fi
        ((count++))
    fi
	done
menu_height_dxvk=$((count + 6))
[ $menu_height_dxvk -lt 4 ] && menu_height_dxvk=10
    if [ ${#menu_items[@]} -eq 0 ]; then
        dialog --title "–û—à–∏–±–∫–∞" --msgbox "–§–∞–π–ª—ã dxvk –∏–ª–∏ wined3d –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –ø–∞–ø–∫–µ render." 7 30
        return
    fi
    file_number=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª" --menu "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª:" $menu_height_dxvk 35 10 "${menu_items[@]}" 3>&1 1>&2 2>&3)
    case $? in
        1) return ;;
        255) return ;;
    esac
    selected_file=$(ls "$render"/{dxvk*,wined*} 2>/dev/null | sed -n "${file_number}p")
    sed -i "109s/.*/DXVK_86=\"$(basename "$selected_file")\"/" "$CONFIG"
    sed -i "125s/.*/DXVK_x86=$DXVK_86/" "$CONFIG"
   DXVK_86=$(basename "$selected_file")
}
save_settings() {
        local settings=(
        "ALIGNED_ATOMICS_0=$ALIGNED_ATOMICS_0"
        "ALIGNED_ATOMICS_86=$ALIGNED_ATOMICS_86"
        "ALIGNED_ATOMICS_64=$ALIGNED_ATOMICS_64"
"HD_86=$HD_86"
"sd_86=$sd_86"
"X_86=$X_86"
"SCALE_86=$SCALE_86"
"SC_86=$SC_86"
"InDr_86=$InDr_86"
        "BIGBLOCK_86_0=$BIGBLOCK_86_0"
        "BIGBLOCK_64_0=$BIGBLOCK_64_0"
        "BIGBLOCK_86_86=$BIGBLOCK_86_86"
        "BIGBLOCK_64_64=$BIGBLOCK_64_64"
        "FASTNAN_0=$FASTNAN_0"
        "FASTNAN_86=$FASTNAN_86"
        "FASTNAN_64=$FASTNAN_64"
        "SAFEFLAGS_0=$SAFEFLAGS_0"
        "SAFEFLAGS_86=$SAFEFLAGS_86"
        "SAFEFLAGS_64=$SAFEFLAGS_64"
        "STRONGMEM_0=$STRONGMEM_0"
        "STRONGMEM_86=$STRONGMEM_86"
        "STRONGMEM_64=$STRONGMEM_64"
        "WAIT_0=$WAIT_0"
        "WAIT_86=$WAIT_86"
        "WAIT_64=$WAIT_64"
        "X87DOUBLE_0=$X87DOUBLE_0"
        "X87DOUBLE_86=$X87DOUBLE_86"
        "X87DOUBLE_64=$X87DOUBLE_64"
        "CALLRET_0=$CALLRET_0"
        "CALLRET_86=$CALLRET_86"
        "CALLRET_64=$CALLRET_64"
        "DXVK_86=$DXVK_86"
        "TURNIP_86=$TURNIP_86"
        "BOX_86=$BOX_86"
        "MOBOX_86=$MOBOX_86"
        "BOX_LNG=$BOX_LNG"
        "DRI3_86=$DRI3_86"
        "STARTUP_86=$STARTUP_86"
        "SERVICES_86=$SERVICES_86"
        "DRI_86=$DRI_86"
        "START_86=$START_86"
        "SERV_86=$SERV_86"
        "SCRENSVR_86=$SCRENSVR_86"
#----------------
"HD_WOW=$HD_WOW"
"sd_WOW=$sd_WOW"
"X_WOW=$X_WOW"
"SCALE_WOW=$SCALE_WOW"
"SC_WOW=$SC_WOW"
"InDr_WOW=$InDr_WOW"
        "ATOMICS_WOW_0=$ATOMICS_WOW_0"
        "ATOMICS_WOW_64=$ATOMICS_WOW_64"
        "BIGBLOCK_WOW_64_0=$BIGBLOCK_WOW_64_0"
        "BIGBLOCK_WOW_64_64=$BIGBLOCK_WOW_64_64"
        "FASTNAN_WOW_0=$FASTNAN_WOW_0"
        "FASTNAN_WOW_64=$FASTNAN_WOW_64"
        "SAFEFLAGS_WOW_0=$SAFEFLAGS_WOW_0"
        "SAFEFLAGS_WOW_64=$SAFEFLAGS_64"
        "STRONGMEM_WOW_0=$STRONGMEM_WOW_0"
        "STRONGMEM_WOW_64=$STRONGMEM_WOW_64"
        "WAIT_WOW_0=$WAIT_WOW_0"
        "WAIT_WOW_64=$WAIT_WOW_64"
        "X87DOUBLE_WOW_0=$X87DOUBLE_0"
        "X87DOUBLE_WOW_64=$X87DOUBLE_64"
        "CALLRET_WOW_0=$CALLRET_WOW_0"
        "CALLRET_WOW_64=$CALLRET_WOW_64"
        "FASTROUND_WOW_0=$FASTROUND_WOW_0"
        "FASTROUND_WOW_64=$FASTROUND_WOW_64"
        "IGNOREINT3_WOW_0=$IGNOREINT3_WOW_0"
        "IGNOREINT3_WOW_64=$IGNOREINT3_WOW_64"
        "BOX_WOW=$BOX_WOW"
        "DXVK_WOW=$DXVK_WOW"
        "TURNIP_WOW=$TURNIP_WOW"
        "MOBOX_WOW=$MOBOX_WOW"
        "DRI3_WOW=$DRI3_WOW"
        "STARTUP_WOW=$STARTUP_WOW"
        "SERVICES_WOW=$SERVICES_WOW"
        "DRI_WOW=$DRI_WOW"
        "START_WOW=$START_WOW"
        "SERV_WOW=$SERV_WOW"
        "BOX_LNG=$BOX_LNG"
        "LANG=$LANG"
        "SCRENSVR_WOW=$SCRENSVR_WOW"
    )
}
display_menu() {
    local title="$1"
    local text="$2"
    shift 2
    dialog --title "$title" --menu "$text" 27 41 "$@" 2>&1 >/dev/tty
}
set_resolution_86() {
    while true; do
        RESOLUTION_86=$(dialog --inputbox "–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 960x540):" 8 35 2>&1 >/dev/tty)
        if [ $? -ne 0 ]; then
            return 1
        fi
        if [[ "$RESOLUTION_86" =~ ^[0-9]+x[0-9]+$ ]]; then
            break
        else
            dialog --msgbox "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ WihtxHeight (–Ω–∞–ø—Ä–∏–º–µ—Ä, 960x540).\n\n
Wight - –®–∏—Ä–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞\n
—Ö - –ú–∞–ª–µ–Ω—å–∫–∏–π –∏–∫—Å\n
Height - –í—ã—Å–æ—Ç–∞ —ç–∫—Ä–∞–Ω–∞" 12 35
        fi
    done
    if [ -z "$CONFIG" ] || [ ! -f "$CONFIG" ]; then
        dialog --msgbox "–û—à–∏–±–∫–∞: —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω." 6 33
    fi
    sed -i "31s/.*/RESOLUTION_86=${RESOLUTION_86}/" "$CONFIG"
}
Dir_select() {
BASE_DIR="/storage/emulated/0"
    while true; do
        items_list=()
        items_list+=(".." "...")
        if [ "$BASE_DIR" = "/storage/emulated/0" ]; then
            items_list=()
        fi
        for item in "$BASE_DIR"/*; do
            if [ -d "$item" ]; then
                item_name=$(basename "$item")
                dir_date=$(stat --format='%y' "$item")
                dir_date=$(echo "$dir_date" | cut -d' ' -f1)
                items_list+=("$item_name" üìÇ"|  DIR  | $dir_date")
            fi
        done
        folder=$(basename "$BASE_DIR")
        if [ "$folder" = "0" ]; then
            item="–í—ã–±—Ä–∞–Ω–∞ –ö–æ—Ä–Ω–µ–≤–∞—è "
            name="–ö–æ—Ä–Ω–µ–≤–∞—è –ø–∞–ø–∫–∞/.."
        else
            item="–í—ã–±—Ä–∞–Ω–∞ üìÇ $folder"
            name="../$folder/.."
        fi
    selected_item=$(dialog --stdout --menu "–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞–ø–∫—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.\n
–ù–∞–∂–º–∏—Ç–µ < Ok >\n
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n
$name\n
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n
" 25 41 20 "${items_list[@]}")
    if [ $? -ne 1 ]; then
        if [ "$folder" == "WEG Game settings" ]; then
            DIRESTORI_SAVE="$BASE_DIR"
            echo "$DIRESTORI_SAVE" > "$DIRSAVE"
            break
        fi
    else
        break
    fi
    if [ "$selected_item" == ".." ]; then
        BASE_DIR=$(dirname "$BASE_DIR")
    else
        BASE_DIR="$BASE_DIR/$selected_item" 
    fi
done
clear
}
add_mobox_option() {
    local version_dir="$1"
    if [ -d "$version_dir" ] && [ "$DESK" != "ON" ]; then
        options+=("1." "Mobox:      $BOX_LNG")
    else
        options+=("1" "Local:      $BOX_LNG")
    fi
}
set_resolution_WOW() {
    while true; do
        RESOLUTION_WOW=$(dialog --inputbox "–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 960x540):" 8 35 2>&1 >/dev/tty)
        if [ $? -ne 0 ]; then
            return 1
        fi
        if [[ "$RESOLUTION_WOW" =~ ^[0-9]+x[0-9]+$ ]]; then
            break
        else
            dialog --msgbox "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ WihtxHeight (–Ω–∞–ø—Ä–∏–º–µ—Ä, 960x540).\n\n
Wight - –®–∏—Ä–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞\n
—Ö - –ú–∞–ª–µ–Ω—å–∫–∏–π –∏–∫—Å\n
Height - –í—ã—Å–æ—Ç–∞ —ç–∫—Ä–∞–Ω–∞" 12 35
        fi
    done
    if [ -z "$CONFIG" ] || [ ! -f "$CONFIG" ]; then
        dialog --msgbox "–û—à–∏–±–∫–∞: —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω." 6 33
    fi
    sed -i "31s/.*/RESOLUTION_WOW=${RESOLUTION_WOW}/" "$CONFIG"
}
screen_86(){
if [ ! "$dark_reg" ]; then
    dark_reg="$HOME/.shortcuts/themes/dark/.wine/dark.reg"
fi
if [ ${#SCREEN_DESC_86} -gt 23 ]; then
    EXT="${SCREEN_DESC_86##*.}"
    SHORT_NAME_86="$(echo "$SCREEN_DESC_86" | cut -c1-16)...$EXT"
else
    SHORT_NAME_86="$SCREEN_DESC_86"
fi
    RES_GAME_CHOICE_86=$(dialog --title "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞" --menu "–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞:   $RESOLUTION_86 \n
–¢–µ–∫—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: $SHORT_NAME_86\n" 12 48 2 \
"–í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" "" \
"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è" "" \
"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —Ä–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞" "" \
"–£–¥–∞–ª–∏—Ç—å —Ñ–æ–Ω —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞" "" 2>&1 >/dev/tty)
            case $? in
                1) resolution_fc_86
                ;;
            esac
            case $RES_GAME_CHOICE_86 in
"–í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ")
. /$PREFIX/mobox/resorution
screen_back_86
    if [ "$SCREEN_DESC_86" != "–ù–µ –≤—ã–±—Ä–∞–Ω–æ" ]; then
        if [ "$STR_PAPER_86" = "1" ] && [ "$DEL_PAPER_86" = "1" ]; then
            magick "$PREFIX/$first_line/$SCREEN_DESC_86" -resize "${RESOLUTION_86}\!" "$PREFIX/glibc/screen.bmp"
        elif [ "$STR_PAPER_86" = "0" ] && [ "$DEL_PAPER_86" = "1" ]; then
            magick "$PREFIX/$first_line/$SCREEN_DESC_86" -resize "$RESOLUTION_86" "$PREFIX/glibc/screen.bmp"
        fi
   fi
;;
"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è")
    if [ "$SCREEN_DESC_86" != "–ù–µ –≤—ã–±—Ä–∞–Ω–æ" ]; then
    magick "$PREFIX/$first_line/$SCREEN_DESC_86" -resize $RESOLUTION_86 "$PREFIX/glibc/screen.bmp"
    STR_PAPER_86=0
    DEL_PAPER_86=1
    else
dialog --msgbox "üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –í—ã–±–µ—Ä–∏—Ç–µ\n
–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Ñ–æ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞\n" 7 39
    fi
screen_86
;;
"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —Ä–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞")
    if [ "$SCREEN_DESC_86" != "–ù–µ –≤—ã–±—Ä–∞–Ω–æ" ]; then
    magick "$PREFIX/$first_line/$SCREEN_DESC_86" -resize "$RESOLUTION_86!" "$PREFIX/glibc/screen.bmp"
    STR_PAPER_86=1
    DEL_PAPER_86=1
    else
dialog --msgbox "üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –í—ã–±–µ—Ä–∏—Ç–µ\n
–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Ñ–æ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞\n" 7 39
    fi
screen_86
;;
"–£–¥–∞–ª–∏—Ç—å —Ñ–æ–Ω —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞")
    rm -f "$PREFIX/glibc/screen.bmp"
    rm -f "$PREFIX/$first_line/$SCREEN_DESC_86"
    STR_PAPER_86=1
    DEL_PAPER_86=1
if [ -n "$SCREEN_DESC_86" ]; then
    SCREEN_DESC_86="–ù–µ –≤—ã–±—Ä–∞–Ω–æ"
sed -i "203s/.*/SCREEN_DESC_86=\"${SCREEN_DESC_86}\"/" "$CONFIG"
fi
screen_86
;;
esac
lines_added=$(wc -l < "$dark_reg")
total_lines=$(wc -l < "$user_reg")
start_line=$((total_lines - lines_added_86 + 1))
sed -i "${start_line},\$d" "$user_reg"
cat "$dark_reg" >> "$user_reg"
lines_added_86=$lines_added
sed -i "141s/.*/STR_PAPER_86=$STR_PAPER_86/" "$CONFIG"
sed -i "129s/.*/DEL_PAPER_86=$DEL_PAPER_86/" "$CONFIG"
}
screen_WOW(){
if [ ! "$dark_reg" ]; then
    dark_reg="$HOME/.shortcuts/themes/dark/.wine/dark.reg"
fi
if [ ${#SCREEN_DESC_WOW} -gt 23 ]; then
    EXT="${SCREEN_DESC_WOW##*.}"
    SHORT_NAME_WOW="$(echo "$SCREEN_DESC_WOW" | cut -c1-16)...$EXT"
else
    SHORT_NAME_WOW="$SCREEN_DESC_WOW"
fi
    RES_GAME_CHOICE_WOW=$(dialog --title "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞" --menu "–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞:   $RESOLUTION_WOW \n
–¢–µ–∫—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: $SHORT_NAME_WOW\n" 12 48 2 \
"–í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" "" \
"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è" "" \
"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —Ä–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞" "" \
"–£–¥–∞–ª–∏—Ç—å —Ñ–æ–Ω —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞" "" 2>&1 >/dev/tty)
            case $? in
                1) resolution_fc_WOW
                ;;
            esac
            case $RES_GAME_CHOICE_WOW in
"–í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ")
. /$PREFIX/mobox/resorution
screen_back_WOW
    if [ "$SCREEN_DESC_WOW" != "–ù–µ –≤—ã–±—Ä–∞–Ω–æ" ]; then
        if [ "$STR_PAPER_WOW" = "1" ] && [ "$DEL_PAPER_WOW" = "1" ]; then
            magick "$PREFIX/$first_line/$SCREEN_DESC_WOW" -resize "${RESOLUTION_WOW}\!" "$PREFIX/glibc/screen.bmp"
        elif [ "$STR_PAPER_WOW" = "0" ] && [ "$DEL_PAPER_WOW" = "1" ]; then
            magick "$PREFIX/$first_line/$SCREEN_DESC_WOW" -resize "$RESOLUTION_WOW" "$PREFIX/glibc/screen.bmp"
        fi
   fi
;;
"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è")
    if [ "$SCREEN_DESC_WOW" != "–ù–µ –≤—ã–±—Ä–∞–Ω–æ" ]; then
    magick "$PREFIX/$first_line/$SCREEN_DESC_WOW" -resize $RESOLUTION_WOW "$PREFIX/glibc/screen.bmp"
    STR_PAPER_WOW=0
    DEL_PAPER_WOW=1
    else
dialog --msgbox "üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –í—ã–±–µ—Ä–∏—Ç–µ\n
–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Ñ–æ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞\n" 7 39
    fi
screen_WOW
;;
"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —Ä–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞")
    if [ "$SCREEN_DESC_WOW" != "–ù–µ –≤—ã–±—Ä–∞–Ω–æ" ]; then
    magick "$PREFIX/$first_line/$SCREEN_DESC_WOW" -resize "$RESOLUTION_WOW!" "$PREFIX/glibc/screen.bmp"
    STR_PAPER_WOW=1
    DEL_PAPER_WOW=1
    else
dialog --msgbox "üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –í—ã–±–µ—Ä–∏—Ç–µ\n
–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Ñ–æ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞\n" 7 39
    fi
screen_WOW
;;
"–£–¥–∞–ª–∏—Ç—å —Ñ–æ–Ω —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞")
    rm -f "$PREFIX/glibc/screen.bmp"
    rm -f "$PREFIX/$first_line/$SCREEN_DESC_WOW"
    STR_PAPER_WOW=1
    DEL_PAPER_WOW=1
if [ -n "$SCREEN_DESC_WOW" ]; then
    SCREEN_DESC_WOW="–ù–µ –≤—ã–±—Ä–∞–Ω–æ"
sed -i "187s/.*/SCREEN_DESC_WOW=\"${SCREEN_DESC_WOW}\"/" "$CONFIG"
screen_WOW
fi
;;
esac
lines_added=$(wc -l < "$dark_reg")
total_lines=$(wc -l < "$user_reg")
start_line=$((total_lines - lines_added_WOW + 1))
sed -i "${start_line},\$d" "$user_reg"
cat "$dark_reg" >> "$user_reg"
lines_added_WOW=$lines_added
sed -i "60s/.*/STR_PAPER_WOW=$STR_PAPER_WOW/" "$CONFIG"
sed -i "61s/.*/DEL_PAPER_WOW=$DEL_PAPER_WOW/" "$CONFIG"
}
resolution_fc_86() {
    if [ ! "$dark_reg" ]; then
        dark_reg="$HOME/.shortcuts/themes/dark/.wine/dark.reg"
    fi
file_path="$PREFIX/glibc/opt/conf/wine_path.conf"
first_line=$(head -n 1 "$file_path" | cut -c 25-)
user_reg="$PREFIX/$first_line/.wine/user.reg"
    RES_GAME_CHOICE_86=$(dialog --title "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —ç–∫—Ä–∞–Ω–∞" --menu "" 12 40 5 \
"–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞" "" \
"–†–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É –¥–∏—Å–ø–ª–µ—è" "" \
"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ HUD-—Å—á–µ—Ç—á–∏–∫–∞" "" \
"–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞" "" \
"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞" "" \
"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" "" 2>&1 >/dev/tty)
            case $? in
            1) return ;; 
            esac
            case $RES_GAME_CHOICE_86 in
"–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞")
. /$PREFIX/mobox/resorution
resorution_86
resolution_fc_86
            ;;
"–†–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É –¥–∏—Å–ø–ª–µ—è") 
if [ "$STRETCH_86" == "–†–∞—Å—Ç—è–Ω—É—Ç–æ" ]; then
str_on="‚úÖ"
str_off="üî≤"
else
str_on="üî≤"
str_off="‚úÖ"
fi
            RES_GAME_CHOICE_86=$(dialog --title "–†–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞" --menu "" 8 35 2 \
" $str_on –í–∫–ª—é—á–∏—Ç—å" "" \
" $str_off –í—ã–∫–ª—é—á–∏—Ç—å" "" 2>&1 >/dev/tty)
            case $? in
                1) resolution_fc_86
                return ;;
            esac
            case $RES_GAME_CHOICE_86 in
" $str_on –í–∫–ª—é—á–∏—Ç—å") 
            	STRETCH_86_en="Stretched"
            	STRETCH_86="–†–∞—Å—Ç—è–Ω—É—Ç–æ"
                sed -i '116s/.*/displayStretch=true/' "$CONFIG"
                ;;
" $str_off –í—ã–∫–ª—é—á–∏—Ç—å") 
            	STRETCH_86_en="Not stretched"
            	STRETCH_86="–ù–µ —Ä–∞—Å—Ç—è–Ω—É—Ç–æ"
                sed -i '116s/.*/displayStretch=false/' "$CONFIG"
            esac
            sed -i "173s/.*/STRETCH_86_eng=\"${STRETCH_86_en}\"/" "$CONFIG"
            sed -i "117s/.*/STRETCH_86=\"${STRETCH_86}\"/" "$CONFIG"
            resolution_fc_86
            ;;
"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ HUD-—Å—á–µ—Ç—á–∏–∫–∞")
            . /$PREFIX/mobox/hud_conf86
            resolution_fc_86
            ;;
"–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞")
if [ -f "$user_reg" ]; then
dark_reg_fold="$HOME/.shortcuts/themes/drive_c/"
user_reg_fold="$PREFIX/$first_line/.wine/drive_c/"
if [[ -d "$dark_reg_fold" && -d "$user_reg_fold" ]]; then
  cp -r "$dark_reg_fold"/* "$user_reg_fold"
fi

if [ "$theme_86" == "dark" ]; then
    dark_86="‚úÖ"
    light_86="üî≤"
    classic_86="üî≤"
    silver_86="üî≤"
    olive_86="üî≤"
elif [ "$theme_86" == "light" ]; then
    dark_86="üî≤"
    light_86="‚úÖ"
    classic_86="üî≤"
    silver_86="üî≤"
    olive_86="üî≤"
elif [ "$theme_86" == "silver" ]; then
    dark_86="üî≤"
    light_86="üî≤"
    silver_86="‚úÖ"
    classic_86="üî≤"
    olive_86="üî≤"
elif [ "$theme_86" == "classic" ]; then
    dark_86="üî≤"
    light_86="üî≤"
    silver_86="üî≤"
    classic_86="‚úÖ"
    olive_86="üî≤"
elif [ "$theme_86" == "olive" ]; then
    dark_86="üî≤"
    light_86="üî≤"
    silver_86="üî≤"
    classic_86="üî≤"
    olive_86="‚úÖ"
fi
        RES_GAME_CHOICE_86=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è" --menu " \n" 12 35 2 \
" $dark_86 –¢–µ–º–Ω–∞—è —Ç–µ–º–∞" "" \
" $light_86 –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞" "" \
" $classic_86 Win XP Classic" "" \
" $silver_86 Win XP Silver" "" \
" $olive_86 Win XP Olive" "" 2>&1 >/dev/tty)
            case $? in
                1) resolution_fc_86
                return ;;
            esac
            case $RES_GAME_CHOICE_86 in
" $dark_86 –¢–µ–º–Ω–∞—è —Ç–µ–º–∞") 
dark_reg="$HOME/.shortcuts/themes/dark/.wine/dark.reg"
theme_86="dark"
dark_86="‚úÖ"; eval "$(printf '%s="üî≤" ' light_86 classic_86 silver_86 olive_86)"
                ;;
" $light_86 –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞") 
dark_reg="$HOME/.shortcuts/themes/light/.wine/light.reg"
theme_86="light"
light_86="‚úÖ"; eval "$(printf '%s="üî≤" ' dark_86 classic_86 silver_86 olive_86)"
                ;;
" $silver_86 Win XP Silver")
dark_reg="$HOME/.shortcuts/themes/win_xp_silver/.wine/silver.reg"
theme_86="silver"
silver_86="‚úÖ"; eval "$(printf '%s="üî≤" ' dark_86 classic_86 light_86 olive_86)"
                ;;
" $classic_86 Win XP Classic")
dark_reg="$HOME/.shortcuts/themes/win_xp_classic/.wine/classic.reg"
theme_86="classic"
classic_86="‚úÖ"; eval "$(printf '%s="üî≤" ' dark_86 silver_86 light_86 olive_86)"
                ;;
" $olive_86 Win XP Olive")
dark_reg="$HOME/.shortcuts/themes/win_xp_olive/.wine/olive.reg"
theme_86="olive"
olive_86="‚úÖ"; eval "$(printf '%s="üî≤" ' dark_86 silver_86 light_86 classic_86)"
                ;;
            esac
lines_added=$(wc -l < "$dark_reg")
total_lines=$(wc -l < "$user_reg")
start_line=$((total_lines - lines_added_86 + 1))
sed -i "${start_line},\$d" "$user_reg"
cat "$dark_reg" >> "$user_reg"
lines_added_86=$lines_added
sed -i "204s/.*/lines_added_86=\"${lines_added_86}\"/" "$CONFIG"
sed -i '205s|.*|dark_reg="'"$dark_reg"'"|' "$CONFIG"
sed -i "140s/.*/theme_86=\"${theme_86}\"/" "$CONFIG"
sed -i "100s/.*/dark_86=$dark_86 light_86=$light_86 silver_86=$silver_86 classic_86=$classic_86 olive_86=$olive_86 /" "$CONFIG"
else
dialog --msgbox "üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä box86 –Ω–µ —Å–æ–∑–¥–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É —Å–Ω–æ–≤–∞.\n" 8 36
fi
resolution_fc_86
            ;;
"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞")
if [ -f "$user_reg" ]; then
screen_86
else
dialog --msgbox "üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä box86 –Ω–µ —Å–æ–∑–¥–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É —Å–Ω–æ–≤–∞.\n" 8 36
resolution_fc_86
fi
;;
"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")
            dialog --msgbox "üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ \n
1. –í—ã–±—Ä–∞–≤ –∑–¥–µ—Å—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞, —Ç–µ–ø–µ—Ä—å\n
   –Ω–µ –Ω—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å —Ç–∞–∫–æ–µ –∂–µ –≤ WEG‚Ñ¢:X11\n
   –∏–ª–∏ –≥–¥–µ —Ç–æ –µ—â—ë. –í—ã–±—Ä–∞–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ\n
   –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤–µ–∑–¥–µ.\n
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ \n
2. \"–†–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞\" –∑–∞–º–µ–Ω—è–µ—Ç\n
   —Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ –∏ –≤ WEG‚Ñ¢:X11\n
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ \n
3. –≠–ª–µ–º–µ–Ω—Ç—ã HUD –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –∏–∑\n
   –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ—é,\n
   –∫–∞—Å—Ç–æ–º–Ω—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é.\n
   –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ HUD –Ω–µ—Ç, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ\n
   –µ–≥–æ –æ—Ç–∫–ª—é—á–∏—Ç—å, –∞ –Ω–µ —É–±–∏—Ä–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤\n
   –∫–∞—Å—Ç–æ–º–Ω–æ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.\n
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ 
" 21 48
resolution_fc_86
            ;;
        esac
}
resolution_fc_WOW() {
if [ ! "$dark_reg" ]; then
    dark_reg="$HOME/.shortcuts/themes/dark/.wine/dark.reg"
fi
file_path="$PREFIX/glibc/opt/conf/wine_path.conf"
first_line=$(head -n 1 "$file_path" | cut -c 25-)
user_reg="$PREFIX/$first_line/.wine/user.reg"
    RES_GAME_CHOICE_64=$(dialog --title "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —ç–∫—Ä–∞–Ω–∞" --menu "" 12 40 5 \
"–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞" "" \
"–†–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É –¥–∏—Å–ø–ª–µ—è" "" \
"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ HUD-—Å—á–µ—Ç—á–∏–∫–∞" "" \
"–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞" "" \
"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞" "" \
"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" "" 2>&1 >/dev/tty)
            case $? in
            1) return ;; 
            esac
            case $RES_GAME_CHOICE_64 in
"–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞")
. /$PREFIX/mobox/resorution
resorution_WOW
resolution_fc_WOW
            ;;
"–†–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É –¥–∏—Å–ø–ª–µ—è") 
if [ "$STRETCH_WOW" == "–†–∞—Å—Ç—è–Ω—É—Ç–æ" ]; then
str_on="‚úÖ"
str_off="üî≤"
else
str_on="üî≤"
str_off="‚úÖ"
fi
            RES_GAME_CHOICE_64=$(dialog --title "–†–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞" --menu "" 8 35 2 \
" $str_on –í–∫–ª—é—á–∏—Ç—å" "" \
" $str_off –í—ã–∫–ª—é—á–∏—Ç—å" "" 2>&1 >/dev/tty)
            case $? in
                1) resolution_fc_WOW
                return ;;
            esac
            case $RES_GAME_CHOICE_64 in
" $str_on –í–∫–ª—é—á–∏—Ç—å") 
            	STRETCH_WOW_en="Stretched"
            	STRETCH_WOW="–†–∞—Å—Ç—è–Ω—É—Ç–æ"
                sed -i '116s/.*/displayStretch=true/' "$CONFIG"
                ;;
" $str_off –í—ã–∫–ª—é—á–∏—Ç—å") 
            	STRETCH_WOW_en="Not stretched"
            	STRETCH_WOW="–ù–µ —Ä–∞—Å—Ç—è–Ω—É—Ç–æ"
                sed -i '116s/.*/displayStretch=false/' "$CONFIG"
            esac
            sed -i "37s/.*/STRETCH_WOW_eng=\"${STRETCH_WOW_en}\"/" "$CONFIG"
            sed -i "87s/.*/STRETCH_WOW=\"${STRETCH_WOW}\"/" "$CONFIG"
            resolution_fc_WOW
            ;;
"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ HUD-—Å—á–µ—Ç—á–∏–∫–∞")
            . /$PREFIX/mobox/hud_conf64
            resolution_fc_WOW
            ;;
"–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞")
if [ -f "$user_reg" ]; then
dark_reg_fold="$HOME/.shortcuts/themes/drive_c/"
user_reg_fold="$PREFIX/$first_line/.wine/drive_c/"
if [[ -d "$dark_reg_fold" && -d "$user_reg_fold" ]]; then
  cp -r "$dark_reg_fold"/* "$user_reg_fold"
fi
if [ "$theme_wow" == "dark" ]; then
    dark_wow="‚úÖ"
    light_wow="üî≤"
    classic_wow="üî≤"
    silver_wow="üî≤"
    olive_wow="üî≤"
elif [ "$theme_wow" == "light" ]; then
    dark_wow="üî≤"
    light_wow="‚úÖ"
    classic_wow="üî≤"
    silver_wow="üî≤"
    olive_wow="üî≤"
elif [ "$theme_wow" == "silver" ]; then
    dark_wow="üî≤"
    light_wow="üî≤"
    silver_wow="‚úÖ"
    classic_wow="üî≤"
    olive_wow="üî≤"
elif [ "$theme_wow" == "classic" ]; then
    dark_wow="üî≤"
    light_wow="üî≤"
    silver_wow="üî≤"
    classic_wow="‚úÖ"
    olive_wow="üî≤"
elif [ "$theme_wow" == "olive" ]; then
    dark_wow="üî≤"
    light_wow="üî≤"
    silver_wow="üî≤"
    classic_wow="üî≤"
    olive_wow="‚úÖ"
fi
        RES_GAME_CHOICE_64=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è" --menu " \n" 12 35 2 \
" $dark_wow –¢–µ–º–Ω–∞—è —Ç–µ–º–∞" "" \
" $light_wow –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞" "" \
" $classic_wow Win XP Classic" "" \
" $silver_wow Win XP Silver" "" \
" $olive_wow Win XP Olive" "" 2>&1 >/dev/tty)
            case $? in
                1) resolution_fc_WOW
                return ;;
            esac
            case $RES_GAME_CHOICE_64 in
" $dark_wow –¢–µ–º–Ω–∞—è —Ç–µ–º–∞") 
dark_reg="$HOME/.shortcuts/themes/dark/.wine/dark.reg"
theme_wow="dark"
dark_wow="‚úÖ"; eval "$(printf '%s="üî≤" ' light_wow classic_wow silver_wow olive_wow)"
                ;;
" $light_wow –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞") 
dark_reg="$HOME/.shortcuts/themes/light/.wine/light.reg"
theme_wow="light"
light_wow="‚úÖ"; eval "$(printf '%s="üî≤" ' dark_wow classic_wow silver_wow olive_wow)"
                ;;
" $silver_wow Win XP Silver")
dark_reg="$HOME/.shortcuts/themes/win_xp_silver/.wine/silver.reg"
theme_wow="silver"
silver_wow="‚úÖ"; eval "$(printf '%s="üî≤" ' dark_wow classic_wow light_wow olive_wow)"
                ;;
" $classic_wow Win XP Classic")
dark_reg="$HOME/.shortcuts/themes/win_xp_classic/.wine/classic.reg"
theme_wow="classic"
classic_wow="‚úÖ"; eval "$(printf '%s="üî≤" ' dark_wow silver_wow light_wow olive_wow)"
                ;;
" $olive_wow Win XP Olive")
dark_reg="$HOME/.shortcuts/themes/win_xp_olive/.wine/olive.reg"
theme_wow="olive"
olive_wow="‚úÖ"; eval "$(printf '%s="üî≤" ' dark_wow silver_wow light_wow classic_wow)"
                ;;
            esac
lines_added=$(wc -l < "$dark_reg")
total_lines=$(wc -l < "$user_reg")
start_line=$((total_lines - lines_added_WOW + 1))
sed -i "${start_line},\$d" "$user_reg"
cat "$dark_reg" >> "$user_reg"
lines_added_WOW=$lines_added
sed -i "20s/.*/dark_wow=$dark_wow light_wow=$light_wow silver_wow=$silver_wow classic_wow=$classic_wow olive_wow=$olive_wow /" "$CONFIG"
sed -i "41s/.*/theme_wow=\"${theme_wow}\"/" "$CONFIG"
sed -i '189s|.*|dark_reg="'"$dark_reg"'"|' "$CONFIG"
sed -i "188s/.*/lines_added_WOW=\"${lines_added_WOW}\"/" "$CONFIG"
else
dialog --msgbox "üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä WoW64 –Ω–µ —Å–æ–∑–¥–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É —Å–Ω–æ–≤–∞.\n" 8 36
fi
resolution_fc_WOW
            ;;
"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞")
if [ -f "$user_reg" ]; then
screen_WOW
else
dialog --msgbox "üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä WoW64 –Ω–µ —Å–æ–∑–¥–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É —Å–Ω–æ–≤–∞.\n" 8 36
resolution_fc_WOW
fi
;;
"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")
            dialog --msgbox "üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ \n
1. –í—ã–±—Ä–∞–≤ –∑–¥–µ—Å—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞, —Ç–µ–ø–µ—Ä—å\n
   –Ω–µ –Ω—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å —Ç–∞–∫–æ–µ –∂–µ –≤ WEG‚Ñ¢:X11\n
   –∏–ª–∏ –≥–¥–µ —Ç–æ –µ—â—ë. –í—ã–±—Ä–∞–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ\n
   –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤–µ–∑–¥–µ.\n
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ \n
2. \"–†–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞\" –∑–∞–º–µ–Ω—è–µ—Ç\n
   —Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ –∏ –≤ WEG‚Ñ¢:X11\n
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ \n
3. –≠–ª–µ–º–µ–Ω—Ç—ã HUD –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –∏–∑\n
   –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ—é,\n
   –∫–∞—Å—Ç–æ–º–Ω—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é.\n
   –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ HUD –Ω–µ—Ç, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ\n
   –µ–≥–æ –æ—Ç–∫–ª—é—á–∏—Ç—å, –∞ –Ω–µ —É–±–∏—Ä–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤\n
   –∫–∞—Å—Ç–æ–º–Ω–æ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.\n
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ 
" 21 48
resolution_fc_WOW
            ;;
        esac
}
export_fc() {
    CORES_CHOICE=$(dialog --title "–≠–∫—Å–ø–æ—Ä—Ç / –ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫" --menu "\n
1. –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏\n
   –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —ç—Ç–æ–≥–æ\n
   –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ —Å–¥–µ–ª—è—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é\n
   –∫–æ–ø–∏—é —Å–≤–æ–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.\n
2. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑–µ—Ä–Ω—É—é –∫–æ–ø–∏—é —Å–≤–æ–∏—Ö\n
   –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥—Ä—É–≥–∏—Ö\n
   –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Widget\n
3. –í—ã–±—Ä–∞—Ç—å –º–µ—Å—Ç–æ –∫—É–¥–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\n
   –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è" 20 40 3 \
            "1" "–≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –ø–∞–ø–∫—É" \
            "2" "–ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ –ø–∞–ø–∫–∏" \
            "3" "–ò–∑–º–µ–Ω–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é" \
            "4" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ‚ùó‚ùóÔ∏è‚ùóÔ∏èÔ∏è" 2>&1 >/dev/tty)
            case $? in
                1) return ;;
            esac
            case $CORES_CHOICE in
                1) 
if [ ! -d "$DIRESTORI_SAVE" ]; then
    mkdir -p "$DIRESTORI_SAVE"
fi
if [ "$DESK" != "OFF" ]; then
cp "/data/data/com.termux/files/home/.shortcuts/,/$result" "/$DIRESTORI_SAVE"
else
cp "/data/data/com.termux/files/home/.shortcuts/$result" "/$DIRESTORI_SAVE"
fi
dir=${DIRESTORI_SAVE#*/Download}
dir="Download${dir}"
dialog --title "üìÇ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" --msgbox "$result\n
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ø–æ –ø—É—Ç–∏ –≤ –ø–∞–ø–∫—É:\n
$dir" 7 48
export_fc
                ;;
                2) 
if [ -f "$DIRESTORI_SAVE/$result" ]; then
if [ "$DESK" != "OFF" ]; then
cp "/data/data/com.termux/files/home/.shortcuts/,/$result" "/$DIRESTORI_SAVE"
else
cp "/data/data/com.termux/files/home/.shortcuts/$result" "/$DIRESTORI_SAVE"
fi
dialog --title "üìÇ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" --msgbox "$result\n
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ WEG‚Ñ¢‚ö°Ô∏èMobox Menu" 6 51
else
dialog --title "üö´ –û—à–∏–±–∫–∞" --msgbox "$result\n
–§–∞–π–ª —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ø–∞–ø–∫–µ\n
          \"WEG Game settings\"" 7 43
fi
export_fc
                ;;
                3) 
Dir_select
export_fc
                ;;
                4)
dialog --title "‚ùóÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ‚ùóÔ∏è" --msgbox "$result\n
–ü—Ä–∏ –∫–∞–∂–¥–æ–º —ç–∫—Å–ø–æ—Ä—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è\n
—Ñ–∞–π–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏\n
–í–∏–¥–∂–µ—Ç–∞, –≤ –ø–∞–ø–∫–µ \"WEG Game settings\".\n
–ò–ª–∏ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ –¥—Ä—É–≥–æ–º—É\n
–∞–¥—Ä–µ—Å—É –≤—ã–±—Ä–∞–≤ –¥—Ä—É–≥—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –Ω–æ –∏–º—è\n
–ø–∞–ø–∫–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—Å–µ —Ä–∞–≤–Ω–æ\n
\"WEG Game settings\" \n\n
–í—Å–µ —Ñ–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –±—É–¥—É—Ç\n
—Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ —ç—Ç—É –ø–∞–ø–∫—É –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞\n
–≤—ã –Ω–µ –∏–∑–º–µ–Ω–∏—Ç–µ –º–µ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.\n
–ò–º–ø–æ—Ä—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –º–µ–Ω—è—è\n
–∏–º–µ—é—â–∏–π—Å—è —Ñ–∞–π–ª –Ω–∞ –Ω–æ–≤—ã–π —Å —Ç–∞–∫–∏–º –∂–µ –∏–º–µ–Ω–µ–º.\n\n
–í–ù–ò–ú–ê–ù–ò–ï‚ùóÔ∏è‚ùóÔ∏è‚ùóÔ∏è\n
–ò–º—è –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–∞–∫–∏–º –∂–µ –∫–∞–∫\n
–∏ –ò–º—è –≤ –Ω–∞—Å—Ç—Ä–æ–∫–∞—Ö WEG‚Ñ¢‚ö°Ô∏èMobox Menu" 22 46
export_fc
                ;;
            esac
}
GAME_SHORT="${result:0:17}"
while true; do
    if [ "$BOX_VERS" = "X86" ]; then
        dialog_text="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ $result: $CONFIG_SETTINGS_GAME\n\
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n
  –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è\n
  –∑–∞–ø—É—Å–∫–∞ –∏ —Ä–∞–±–æ—Ç—ã –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è."
    elif [ "$BOX_VERS" = "WOW64" ]; then
        dialog_text="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ $result: $CONFIG_SETTINGS_GAME\n\
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n
  –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è\n
  –∑–∞–ø—É—Å–∫–∞ –∏ —Ä–∞–±–æ—Ç—ã –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è."
fi
if [ "$DESK" == "OFF" ]; then
    options=("üéÆ" "–ó–∞–ø—É—Å—Ç–∏—Ç—å $result")
else
    options=()
fi
if [ "$BOX_VERS" = "X86" ]; then
    if [ -n "$value" ]; then
        add_mobox_option "$PREFIX/glibc"
    else
        add_mobox_option "$PREFIX/glibc-wow64"
    fi
elif [ "$BOX_VERS" = "WOW64" ]; then
    if [ -n "$value" ]; then
        add_mobox_option "$PREFIX/glibc-x86"
    else
        add_mobox_option "$PREFIX/glibc"
    fi
fi
if [ "$BOX_VERS" = "X86" ]; then
    options+=(
       "2." "DYNAREC:    $DYNAREC_86" 
       "3." "Driver:     $(echo "${TURNIP_86#D-}" | sed 's/\.WEG$//')" 
       "4." "Render:     $(echo "${DXVK_86#R-}" | sed 's/\.WEG$//')" 
       "5." "BOX86:      ${BOX_86%.WEG}"
       "6." "DirectX:    $DX_VER_86" 
       "7." "–≠–∫—Ä–∞–Ω:      $RESOLUTION_86 $STRETCH_86" 
       "8." "–Ø–¥—Ä–∞:       $CORES_86"
       "9." "–õ–∏–º–∏—Ç FPS:  $FPS_LIM_86"
      "10." "–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫: Input Bridge $InBr"
      "11." "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏"
      "12." "–°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ $GAME_SHORT"
      "13." "–≠–∫—Å–ø–æ—Ä—Ç / –ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫"
    )
elif [ "$BOX_VERS" = "WOW64" ]; then
    options+=(
        "2" "DYNAREC:    $DYNAREC_64" 
        "3" "Driver:     $(echo "${TURNIP_WOW#D-}" | sed 's/\.WEG$//')" 
        "4" "Render:     $(echo "${DXVK_WOW#R-}" | sed 's/\.WEG$//')" 
        "5" "WoW64:      ${BOX_WOW%.WEG}"
        "6" "DirectX:    $DX_VER_WOW" 
        "7" "–≠–∫—Ä–∞–Ω:      $RESOLUTION_WOW $STRETCH_WOW" 
        "8" "–Ø–¥—Ä–∞:       $CORES_WOW"
        "9" "–õ–∏–º–∏—Ç FPS:  $FPS_LIM_WOW"
       "10" "–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫: Input Bridge $InBr"
       "11" "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏"
       "12" "–°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ $GAME_SHORT"
       "13." "–≠–∫—Å–ø–æ—Ä—Ç / –ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫"
    )
fi
    choice=$(show_dialog "$CONFIG_SETTINGS_GAME" "$dialog_text" "${#options[@]}" "${options[@]}")
    case $? in
        1)
    if [ "$DESK" == "OFF" ]; then
show_progress "–°–ø–∏—Å–æ–∫ –∏–≥—Ä" "‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞" 2
bash -c "source \"$HOME/Settings\""
    fi
        break
        ;;
        255) continue ;;
    esac
    case $choice in
        "üéÆ")
        clear
        unset settings
            shortcut_path="$CONFIG_GAME"
            if [ -f "$shortcut_path" ]; then
                . "$shortcut_path"
            else
                echo "$GAME"
                exit 1
            fi
            exit
            ;;
        1.)

    	  LAST_BOX=${LAST_BOX:-1}
if [ "$BOX_VERS" == "X86" ]; then
box86="‚úÖ"
box64="üî≤"
else
box86="üî≤"
box64="‚úÖ"
fi
        while true; do
        BOX_VERS_CHOICE=$(dialog --title "Mobox" --default-item " " --menu "–í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é:" 9 31 3 \
" $box86 Mobox box86" "" \
" $box64 Mobox WoW64" "" 2>&1 >/dev/tty)
            case $? in
1) break ;;
            esac
			LAST_BOX=$BOX_VERS_CHOICE
            case $BOX_VERS_CHOICE in
" $box86 Mobox box86") 
                    sed -i '3s/.*/BOX_VERS=X86/' "$CONFIG"
                    BOX_VERS="X86"
                    BOX_LNG="box86"
                    load_conf
                    break
                    ;;
" $box64 Mobox WoW64") 
                    sed -i '3s/.*/BOX_VERS=WOW64/' "$CONFIG"
                    BOX_VERS="WOW64"
                    BOX_LNG="WoW64"
                    load_conf
                    break
                    ;;
            esac
        done
        ;;
        1)
if [ "$BOX_LNG" == "ru_RU" ]; then
chek_lng_r="‚úÖ"
chek_lng_u="üî≤"
chek_lng_a="üî≤"
elif [ "$BOX_LNG" == "uk_UA" ]; then
chek_lng_r="üî≤"
chek_lng_u="‚úÖ"
chek_lng_a="üî≤"
elif [ "$BOX_LNG" == "en_UA" ]; then
chek_lng_r="üî≤"
chek_lng_u="üî≤"
chek_lng_a="‚úÖ"
fi
        BOX_LNG_CHOICE=$(dialog --title "–Ø–∑—ã–∫ —Å–∏—Å—Ç–µ–º—ã" --menu " " 10 33 3 \
" $chek_lng_r –†—É—Å—Å–∫–∏–π –Ø–∑—ã–∫" "" \
" $chek_lng_u –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ú–æ–≤–∞" "" \
" $chek_lng_a English language" ""  2>&1 >/dev/tty)
            case $? in
                1) continue
            esac
            case $BOX_LNG_CHOICE in
" $chek_lng_r –†—É—Å—Å–∫–∏–π –Ø–∑—ã–∫")
            LANG_BOX="ru_RU.utf8"
            BOX_LNG="ru_RU"
            TERM_LNG="ru_RU"
            ;;
" $chek_lng_u –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ú–æ–≤–∞") 
            LANG_BOX="uk_UA.utf8"
            BOX_LNG="uk_UA"
            TERM_LNG="uk_UA"
            ;;
" $chek_lng_a English language") 
            LANG_BOX="en_US.utf8"
            BOX_LNG="en_UA"
            TERM_LNG="en_UA"
            ;;
            esac
echo "$LANG_BOX">$PREFIX/glibc/opt/locale.conf
            sed -i "39s/.*/LANG_BOX=$LANG_BOX/" "$CONFIG"
            sed -i "40s/.*/BOX_LNG=\"${BOX_LNG}\"/" "$CONFIG"
            sed -i "119s/.*/LANG_BOX=$LANG_BOX/" "$CONFIG"
            sed -i "120s/.*/BOX_LNG=\"${BOX_LNG}\"/" "$CONFIG"
            sed -i "44s/.*/TERM_LNG=\"${TERM_LNG}\"/" "$CONFIG"
            sed -i "124s/.*/TERM_LNG=\"${TERM_LNG}\"/" "$CONFIG"
            if [ "$BOX_VERS" = "WOW64" ]; then
                sed -i "39s/.*/LANG_BOX=$LANG_BOX/" "$def_set"
            elif [ "$BOX_VERS" = "X86" ]; then
                sed -i "119s/.*/LANG_BOX=$LANG_BOX/" "$def_set"
            fi
        ;;
        2.)
        if [ "$result" = "Mobox box86" ]; then
        . /$PREFIX/mobox/dynarec_conf_box86
        else 
        . /$PREFIX/mobox/dynarec_conf86
        fi
            ;;
        3.)
            select_turnip86_file ;;
        4.)
            select_dxvk86_file ;;
        5.)
            select_box_86_file ;;
        6.) 
case "$DX_VER_86" in
  "9_1")
    dir_91="‚úÖ"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "9_2")
    dir_91="üî≤"
    dir_92="‚úÖ"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "9_3")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="‚úÖ"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "10_0")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="‚úÖ"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "10_1")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="‚úÖ"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "11_0")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="‚úÖ"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "11_1")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="‚úÖ"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "12_0")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="‚úÖ"
    dir_121="üî≤"
    ;;
  "12_1")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="‚úÖ"
    ;;
esac
            DX_VER_CHOICE=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π DirectX" --menu " " 16 40 5 \
            "1" "$dir_91 DirectX 9.1" \
            "2" "$dir_92 DirectX 9.2" \
            "3" "$dir_93 DirectX 9.3" \
            "4" "$dir_100 DirectX 10.0" \
            "5" "$dir_101 DirectX 10.1" \
            "6" "$dir_110 DirectX 11.0" \
            "7" "$dir_111 DirectX 11.1" \
            "8" "$dir_120 DirectX 12.0" \
            "9" "$dir_121 DirectX 12.1" 2>&1 >/dev/tty)
            case $? in
                1) continue ;;
            esac
            case $DX_VER_CHOICE in
                1) 
                DX_VER_86="9_1";;
                2) 
                DX_VER_86="9_2";;
                3) 
                DX_VER_86="9_3";;
                4) 
                DX_VER_86="10_0";;
                5) 
                DX_VER_86="10_1";;
                6) 
                DX_VER_86="11_0";;
                7) 
                DX_VER_86="11_1";;
                8) 
                DX_VER_86="12_0";;
                9) 
                DX_VER_86="12_1";;
            esac
            sed -i "110s/.*/DX_VER_86=${DX_VER_86}/" "$CONFIG"
            sed -i "3s/.*/d3d11.maxFeatureLevel = $DX_VER_86/" $PREFIX/glibc/opt/dxvk.conf
            ;;
        7.)
			resolution_fc_86
        ;;
        8.) 
case "$CORES_86" in
"1-7")
cor_1="‚úÖ"
cor_2="üî≤"
cor_3="üî≤"
cor_4="üî≤"
cor_5="üî≤"
cor_6="üî≤"
;;
"2-7")
cor_1="üî≤"
cor_2="‚úÖ"
cor_3="üî≤"
cor_4="üî≤"
cor_5="üî≤"
cor_6="üî≤"
;;
"3-7")
cor_1="üî≤"
cor_2="üî≤"
cor_3="‚úÖ"
cor_4="üî≤"
cor_5="üî≤"
cor_6="üî≤"
;;
"4-7")
cor_1="üî≤"
cor_2="üî≤"
cor_3="üî≤"
cor_4="‚úÖ"
cor_5="üî≤"
cor_6="üî≤"
;;
"5-7")
cor_1="üî≤"
cor_2="üî≤"
cor_3="üî≤"
cor_4="üî≤"
cor_5="‚úÖ"
cor_6="üî≤"
;;
"6-7")
cor_1="üî≤"
cor_2="üî≤"
cor_3="üî≤"
cor_4="üî≤"
cor_5="üî≤"
cor_6="‚úÖ"
;;
esac
            CORES_CHOICE=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–¥–µ—Ä" --menu " " 13 40 3 \
            "1" "$cor_1 —Å 1 –ø–æ 7" \
            "2" "$cor_2 —Å 2 –ø–æ 7" \
            "3" "$cor_3 —Å 3 –ø–æ 7" \
            "4" "$cor_4 —Å 4 –ø–æ 7" \
            "5" "$cor_5 —Å 5 –ø–æ 7" \
            "6" "$cor_6 6 –∏ 7" 2>&1 >/dev/tty)
            case $? in
                1) continue ;;
            esac
            case $CORES_CHOICE in
                1) 
                PRIMARY_86=1-7
                SECONDARY_86=0-1
                CORES_86="1-7";;
                2) 
                PRIMARY_86=2-7
                SECONDARY_86=0-1
                CORES_86="2-7";;
                3) 
                PRIMARY_86=3-7
                SECONDARY_86=0-2
                CORES_86="3-7";;
                4) 
                PRIMARY_86=4-7
                SECONDARY_86=0-3
                CORES_86="4-7";;
                5) 
                PRIMARY_86=5-7
                SECONDARY_86=0-4
                CORES_86="5-7";;
                6) 
                PRIMARY_86=6-7
                SECONDARY_86=0-5
                CORES_86="6-7";;
            esac
echo "export PRIMARY_CORES=$PRIMARY_86
export SECONDARY_CORES=$SECONDARY_86">$PREFIX/glibc/opt/conf/cores.conf
            sed -i "112s/.*/PRIMARY_86=${PRIMARY_86}/" "$CONFIG"
            sed -i "113s/.*/SECONDARY_86=${SECONDARY_86}/" "$CONFIG"
            sed -i "114s/.*/CORES_86=${CORES_86}/" "$CONFIG";;
        9.)
            while true; do
            FPS_LIM_CHOICE=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ –ª–∏–º–∏—Ç FPS" --inputbox "–í–≤–µ–¥–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ FPS (–æ—Ç 15 –¥–æ 240 –∏–ª–∏ 0):\n\n0 - –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è" 12 40 $FPS_LIM_86 2>&1 >/dev/tty)
            case $? in
            1) break ;;
            255) continue ;;
            esac
            if [[ "$FPS_LIM_CHOICE" =~ ^[0-9]+$ ]] && [ "$FPS_LIM_CHOICE" -eq 0 ] || [ "$FPS_LIM_CHOICE" -ge 15 ] && [ "$FPS_LIM_CHOICE" -le 240 ]; then
            FPS_LIM_86="$FPS_LIM_CHOICE"
            sed -i "115s/.*/FPS_LIM_86=${FPS_LIM_86}/" "$CONFIG"
sed -i "4s/.*/dxgi.maxFrameRate = $FPS_LIM_86/" $PREFIX/glibc/opt/dxvk.conf
sed -i "5s/.*/d3d9.maxFrameRate = $FPS_LIM_86/" $PREFIX/glibc/opt/dxvk.conf
       break
            else
            dialog --msgbox "–û—à–∏–±–∫–∞: –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 15 –¥–æ 240 –∏–ª–∏ 0." 6 37
            fi
        done
    ;;
        10.)
if [ "$InBr" == "–≤–∫–ª—é—á–µ–Ω" ]; then
inBr_on="‚úÖ"
inBr_off="üî≤"
else
inBr_on="üî≤"
inBr_off="‚úÖ"
fi
        INPUT_CHOICE_86=$(dialog --title "Input Bridge" --menu "–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ" 9 30 5 \
" $inBr_on –í–∫–ª—é—á–∏—Ç—å" "" \
" $inBr_off –í—ã–∫–ª—é—á–∏—Ç—å" "" 2>&1 >/dev/tty)
            case $? in
                1) continue ;;
            esac
            case $INPUT_CHOICE_86 in
" $inBr_on –í–∫–ª—é—á–∏—Ç—å") 
                    sed -i '184s/.*/InBr_eng="Enable"/' "$CONFIG"
                    InBr_eng="Enable"
                    sed -i '182s/.*/InBr="–≤–∫–ª—é—á–µ–Ω"/' "$CONFIG"
                    InBr="–≤–∫–ª—é—á–µ–Ω"
                    ;;
" $inBr_off –í—ã–∫–ª—é—á–∏—Ç—å") 
                    sed -i '184s/.*/InBr_eng="Disable"/' "$CONFIG"
                    InBr_eng="Disable"
                    sed -i '182s/.*/InBr="–≤—ã–∫–ª—é—á–µ–Ω"/' "$CONFIG"
                    InBr="–≤—ã–∫–ª—é—á–µ–Ω"
                    ;;
            esac
        ;;
        11.) 
        LAST_SERVICES_86=${LAST_SERVICES_86:-1}
        while true; do
            SERVICES_CHOICE=$(dialog --title "–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ" --default-item "$LAST_SERVICES_86" --menu "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\
–†–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ -
–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ
—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É PhysX –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ \n\
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\
DRI3                $DRI3_86 \n\
–†–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ $STARTUP_86 \n\
–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ OpenGL    $OpenGL_86 \n\
Services.exe        $SERVICES_86" 21 42 3 \
" DRI3 (–æ—Ç–∫–ª—é—á–∏—Ç—å, –µ—Å–ª–∏ SD845)" "" \
" –†–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ" "" \
" –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ OpenGL" "" \
" –ó–∞–ø—É—Å–∫ services.exe" "" 2>&1 >/dev/tty)
            case $? in
                1) break ;;
                255) continue ;;
            esac
        	LAST_SERVICES_86=$SERVICES_CHOICE
            case $SERVICES_CHOICE in
" DRI3 (–æ—Ç–∫–ª—é—á–∏—Ç—å, –µ—Å–ª–∏ SD845)") 
                if [ "$DRI3_86_eng" = "Enable" ]; then
                DRI3_86_eng="Disable"
                DRI3_86="–í—ã–∫–ª—é—á–µ–Ω"
                DRI_86="export MESA_VK_WSI_DEBUG=sw"
                else 
                DRI3_86_eng="Enable"
                DRI3_86="–í–∫–ª—é—á–µ–Ω"
                DRI_86="unset MESA_VK_WSI_DEBUG"
                fi
                sed -i "102s/.*/DRI3_86_eng=${DRI3_86_eng}/" "$CONFIG"
                sed -i "105s/.*/DRI_86=\"$DRI_86\"/" "$CONFIG"
                sed -i "170s/.*/DRI3_86=${DRI3_86}/" "$CONFIG"
                ;;
" –†–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ") 
                if [ "$STARTUP_86_eng" = "Enable" ]; then
                STARTUP_86_eng="Disable"
                STARTUP_86="–í—ã–∫–ª—é—á–µ–Ω"
                START_86="export STARTUP_COMPATIBILITY_MODE=0"
                else
                STARTUP_86_eng="Enable"
                STARTUP_86="–í–∫–ª—é—á–µ–Ω"
                START_86="export STARTUP_COMPATIBILITY_MODE=1"
                fi
                sed -i "103s/.*/STARTUP_86_eng=${STARTUP_86_eng}/" "$CONFIG"
                sed -i "106s/.*/START_86=\"$START_86\"/" "$CONFIG"
                sed -i "171s/.*/STARTUP_86=${STARTUP_86}/" "$CONFIG"
                ;;
" –ó–∞–ø—É—Å–∫ services.exe") 
                if [ "$SERVICES_86_eng" = "Enable" ]; then
                SERVICES_86_eng="Disable"
                SERVICES_86="–í—ã–∫–ª—é—á–µ–Ω"
                SERV_86="export STARTUP_WINEDEVICE_MODE=0"
                else
                SERVICES_86_eng="Enable"
                SERVICES_86="–í–∫–ª—é—á–µ–Ω"
                SERV_86="export STARTUP_WINEDEVICE_MODE=1"
                fi
                sed -i "172s/.*/SERVICES_86_eng=${SERVICES_86_eng}/" "$CONFIG"
                sed -i "107s/.*/SERV_86=\"$SERV_86\"/" "$CONFIG"
                sed -i "104s/.*/SERVICES_86=${SERVICES_86}/" "$CONFIG"
                ;;
            esac
        done
        echo "$DRI_86">$PREFIX/glibc/opt/conf/wsi_debug.conf
        echo "$START_86">$PREFIX/glibc/opt/conf/force_compatibility.conf
        echo "$SERV_86">$PREFIX/glibc/opt/conf/winedevice_startup.conf
        ;;
        12.)
        if [ "$DESK" = "OFF" ]; then
            content=$(sed -n '5,$p' "$def_set")
        sed -i "6,\$d" "$CONFIG"  
        echo "$content" | sed '1d' >> "$CONFIG"  
        elif [ "$DESK" = "ON" ]; then
            content=$(sed -n '5,$p' "$def_box")
        sed -i "6,\$d" "$CONFIG"
        echo "$content" | sed '1d' >> "$CONFIG"  
        fi
         . $return_menu
        exit
        ;;
        13.)
        export_fc
        ;;
###########################
########   WOW64  #########
###########################
        2)
        if [ "$result" = "Mobox WoW64" ]; then
        . /$PREFIX/mobox/dynarec_conf_WOW64
        else
        . /$PREFIX/mobox/dynarec_conf64
        fi
        ;;
        3)
        select_turnip_wow_file ;;
        4)
        select_dxvk_wow_file ;;
        5)
        select_box_wow_file ;;
        6) 
case "$DX_VER_WOW" in
  "9_1")
    dir_91="‚úÖ"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "9_2")
    dir_91="üî≤"
    dir_92="‚úÖ"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "9_3")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="‚úÖ"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "10_0")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="‚úÖ"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "10_1")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="‚úÖ"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "11_0")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="‚úÖ"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "11_1")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="‚úÖ"
    dir_120="üî≤"
    dir_121="üî≤"
    ;;
  "12_0")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="‚úÖ"
    dir_121="üî≤"
    ;;
  "12_1")
    dir_91="üî≤"
    dir_92="üî≤"
    dir_93="üî≤"
    dir_100="üî≤"
    dir_101="üî≤"
    dir_110="üî≤"
    dir_111="üî≤"
    dir_120="üî≤"
    dir_121="‚úÖ"
    ;;
esac
            DX_VER_CHOICE_64=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π DirectX" --menu " " 16 40 5 \
            "1" "$dir_91 DirectX 9.1" \
            "2" "$dir_92 DirectX 9.2" \
            "3" "$dir_93 DirectX 9.3" \
            "4" "$dir_100 DirectX 10.0" \
            "5" "$dir_101 DirectX 10.1" \
            "6" "$dir_110 DirectX 11.0" \
            "7" "$dir_111 DirectX 11.1" \
            "8" "$dir_120 DirectX 12.0" \
            "9" "$dir_121 DirectX 12.1" 2>&1 >/dev/tty)
            case $? in
                1) continue ;;
            esac
            case $DX_VER_CHOICE_64 in
                1) 
                DX_VER_WOW="9_1";;
                2) 
                DX_VER_WOW="9_2";;
                3) 
                DX_VER_WOW="9_3";;
                4) 
                DX_VER_WOW="10_0";;
                5) 
                DX_VER_WOW="10_1";;
                6) 
                DX_VER_WOW="11_0";;
                7) 
                DX_VER_WOW="11_1";;
                8) 
                DX_VER_WOW="12_0";;
                9) 
                DX_VER_WOW="12_1";;
            esac
            sed -i "30s/.*/DX_VER_WOW=${DX_VER_WOW}/" "$CONFIG"
            sed -i "3s/.*/d3d11.maxFeatureLevel = $DX_VER_WOW/" $PREFIX/glibc/opt/dxvk.conf
            ;;
        7) 
        resolution_fc_WOW
        ;;
        8) 
case "$CORES_WOW" in
"1-7")
cor_1="‚úÖ"
cor_2="üî≤"
cor_3="üî≤"
cor_4="üî≤"
cor_5="üî≤"
cor_6="üî≤"
;;
"2-7")
cor_1="üî≤"
cor_2="‚úÖ"
cor_3="üî≤"
cor_4="üî≤"
cor_5="üî≤"
cor_6="üî≤"
;;
"3-7")
cor_1="üî≤"
cor_2="üî≤"
cor_3="‚úÖ"
cor_4="üî≤"
cor_5="üî≤"
cor_6="üî≤"
;;
"4-7")
cor_1="üî≤"
cor_2="üî≤"
cor_3="üî≤"
cor_4="‚úÖ"
cor_5="üî≤"
cor_6="üî≤"
;;
"5-7")
cor_1="üî≤"
cor_2="üî≤"
cor_3="üî≤"
cor_4="üî≤"
cor_5="‚úÖ"
cor_6="üî≤"
;;
"6-7")
cor_1="üî≤"
cor_2="üî≤"
cor_3="üî≤"
cor_4="üî≤"
cor_5="üî≤"
cor_6="‚úÖ"
;;
esac
            CORES_CHOICE_64=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–¥–µ—Ä" --menu " " 13 40 3 \
            "1" "$cor_1 —Å 1 –ø–æ 7" \
            "2" "$cor_2 —Å 2 –ø–æ 7" \
            "3" "$cor_3 —Å 3 –ø–æ 7" \
            "4" "$cor_4 —Å 4 –ø–æ 7" \
            "5" "$cor_5 —Å 5 –ø–æ 7" \
            "6" "$cor_6 6 –∏ 7" 2>&1 >/dev/tty)
            case $? in
                1) continue ;;
            esac
            case $CORES_CHOICE_64 in
                1) 
                PRIMARY_WOW=1-7
                SECONDARY_WOW=0-1
                CORES_WOW="1-7";;
                2) 
                PRIMARY_WOW=2-7
                SECONDARY_WOW=0-1
                CORES_WOW="2-7";;
                3) 
                PRIMARY_WOW=3-7
                SECONDARY_WOW=0-2
                CORES_WOW="3-7";;
                4) 
                PRIMARY_WOW=4-7
                SECONDARY_WOW=0-3
                CORES_WOW="4-7";;
                5) 
                PRIMARY_WOW=5-7
                SECONDARY_WOW=0-4
                CORES_WOW="5-7";;
                6) 
                PRIMARY_WOW=6-7
                SECONDARY_WOW=0-5
                CORES_WOW="6-7";;
            esac
echo "export PRIMARY_CORES=$PRIMARY_WOW
export SECONDARY_CORES=$SECONDARY_WOW">$PREFIX/glibc/opt/conf/cores.conf
            sed -i "32s/.*/PRIMARY_WOW=${PRIMARY_WOW}/" "$CONFIG"
            sed -i "33s/.*/SECONDARY_WOW=${SECONDARY_WOW}/" "$CONFIG"
            sed -i "34s/.*/CORES_WOW=${CORES_WOW}/" "$CONFIG";;
         9)
            while true; do
            FPS_LIM_CHOICE_64=$(dialog --title "–í—ã–±–µ—Ä–∏—Ç–µ –ª–∏–º–∏—Ç FPS" --inputbox "–í–≤–µ–¥–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ FPS –∫—Ä–∞—Ç–Ω–æ–µ 5 (–æ—Ç 15 –¥–æ 240 –∏–ª–∏ 0):\n\n0 - –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è" 12 40 $FPS_LIM_WOW 2>&1 >/dev/tty)
            case $? in
            1) continue ;;
            255) continue ;;
            esac
            if [[ "$FPS_LIM_CHOICE_64" =~ ^[0-9]+$ ]] && [ "$FPS_LIM_CHOICE_64" -eq 0 ] || [ "$FPS_LIM_CHOICE_64" -ge 15 ] && [ "$FPS_LIM_CHOICE_64" -le 240 ]; then
            FPS_LIM_WOW="$FPS_LIM_CHOICE_64"
            sed -i "35s/.*/FPS_LIM_WOW=${FPS_LIM_WOW}/" "$CONFIG"
sed -i "4s/.*/dxgi.maxFrameRate = $FPS_LIM_86/" $PREFIX/glibc/opt/dxvk.conf
sed -i "5s/.*/d3d9.maxFrameRate = $FPS_LIM_WOW/" $PREFIX/glibc/opt/dxvk.conf
       break
            else
            dialog --msgbox "–û—à–∏–±–∫–∞: –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 15 –¥–æ 240 –∏–ª–∏ 0." 10 30
            fi
        done
        ;;
        10)
if [ "$InBr" == "–≤–∫–ª—é—á–µ–Ω" ]; then
inBr_on="‚úÖ"
inBr_off="üî≤"
else
inBr_on="üî≤"
inBr_off="‚úÖ"
fi
        INPUT_CHOICE_WOW=$(dialog --title "Input Bridge" --menu "–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ" 9 30 5 \
" $inBr_on –í–∫–ª—é—á–∏—Ç—å" "" \
" $inBr_off –í—ã–∫–ª—é—á–∏—Ç—å" "" 2>&1 >/dev/tty)
            case $? in
                1) continue ;;
            esac
            case $INPUT_CHOICE_WOW in
" $inBr_on –í–∫–ª—é—á–∏—Ç—å") 
                    sed -i '184s/.*/InBr_eng="Enable"/' "$CONFIG"
                    InBr_eng="Enable"
                    sed -i '182s/.*/InBr="–≤–∫–ª—é—á–µ–Ω"/' "$CONFIG"
                    InBr="–≤–∫–ª—é—á–µ–Ω"
                    ;;
" $inBr_off –í—ã–∫–ª—é—á–∏—Ç—å") 
                    sed -i '184s/.*/InBr_eng="Disable"/' "$CONFIG"
                    InBr_eng="Disable"
                    sed -i '182s/.*/InBr="–≤—ã–∫–ª—é—á–µ–Ω"/' "$CONFIG"
                    InBr="–≤—ã–∫–ª—é—á–µ–Ω"
                    ;;
            esac
        ;;
        11)
        LAST_SERVICES_WOW=${LAST_SERVICES_WOW:-1}
        while true; do
            SERVICES_CHOICE=$(dialog --title "–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ" --default-item "$LAST_SERVICES_WOW" --menu "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\
–†–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ -
–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ
—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É PhysX –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ \n\
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\
DRI3                $DRI3_WOW \n\
–†–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ $STARTUP_WOW \n\
–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ OpenGL    $OpenGL_WOW \n\
Services.exe        $SERVICES_WOW" 21 42 3 \
" DRI3 (–æ—Ç–∫–ª—é—á–∏—Ç—å, –µ—Å–ª–∏ SD845)" "" \
" –†–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ" "" \
" –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ OpenGL" "" \
" –ó–∞–ø—É—Å–∫ services.exe" "" 2>&1 >/dev/tty)
            case $? in
                1) break ;;
                255) continue ;;
            esac
        	LAST_SERVICES_WOW=$SERVICES_CHOICE
            case $SERVICES_CHOICE in
" DRI3 (–æ—Ç–∫–ª—é—á–∏—Ç—å, –µ—Å–ª–∏ SD845)") 
                if [ "$DRI3_WOW_eng" = "Enable" ]; then
                DRI3_WOW_eng="Disable"
                DRI3_WOW="–í—ã–∫–ª—é—á–µ–Ω"
                DRI_WOW="export MESA_VK_WSI_DEBUG=sw"
                else
                DRI3_WOW_eng="Enable"
                DRI3_WOW="–í–∫–ª—é—á–µ–Ω"
                DRI_WOW="unset MESA_VK_WSI_DEBUG"
                fi
                sed -i "22s/.*/DRI3_WOW_eng=${DRI3_WOW_eng}/" "$CONFIG"
                sed -i "105s/.*/DRI_86=\"$DRI_WOW\"/" "$CONFIG"
                ;;
" –†–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ") 
                if [ "$STARTUP_WOW_eng" = "Enable" ]; then
            STARTUP_WOW_eng="Disable"
            STARTUP_WOW="–í—ã–∫–ª—é—á–µ–Ω"
            START_WOW="export STARTUP_COMPATIBILITY_MODE=0"
                else
            STARTUP_WOW_eng="Enable"
            STARTUP_WOW="–í–∫–ª—é—á–µ–Ω"
            START_WOW="export STARTUP_COMPATIBILITY_MODE=1"
                fi
                sed -i "23s/.*/STARTUP_WOW_eng=${STARTUP_WOW_eng}/" "$CONFIG"
                sed -i "106s/.*/START_86=\"$START_WOW\"/" "$CONFIG"
                ;;
" –ó–∞–ø—É—Å–∫ services.exe") 
                if [ "$SERVICES_WOW_eng" = "Enable" ]; then
                SERVICES_WOW_eng="Disable"
                SERVICES_WOW="–í—ã–∫–ª—é—á–µ–Ω"
                SERV_WOW="export STARTUP_WINEDEVICE_MODE=0"
                else
                SERVICES_WOW_eng="Enable"
                SERVICES_WOW="–í–∫–ª—é—á–µ–Ω"
                SERV_WOW="export STARTUP_WINEDEVICE_MODE=1"
                fi
                sed -i "86s/.*/SERVICES_WOW_eng=${SERVICES_WOW_eng}/" "$CONFIG"
                sed -i "27s/.*/SERV_WOW=\"$SERV_WOW\"/" "$CONFIG"
                sed -i "24s/.*/SERVICES_WOW=${SERVICES_WOW}/" "$CONFIG"
                ;;
            esac
        done
        echo "$DRI_WOW">$PREFIX/glibc/opt/conf/wsi_debug.conf
        echo "$START_WOW">$PREFIX/glibc/opt/conf/force_compatibility.conf
        echo "$SERV_WOW">$PREFIX/glibc/opt/conf/winedevice_startup.conf
        ;;
        12)
        if [ "$DESK" = "OFF" ]; then
            content=$(sed -n '5,$p' "$def_set")
        sed -i "6,\$d" "$CONFIG"  
        echo "$content" | sed '1d' >> "$CONFIG"  
        elif [ "$DESK" = "ON" ]; then
            content=$(sed -n '5,$p' "$def_box")
        sed -i "6,\$d" "$CONFIG"
        echo "$content" | sed '1d' >> "$CONFIG"  
        fi
        . $return_menu
        exit
        ;;
        13)
        export_fc
        ;;
    esac
done
. $return_menu
}